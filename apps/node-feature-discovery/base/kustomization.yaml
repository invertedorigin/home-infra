apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
- github.com/kubernetes-sigs/node-feature-discovery//deployment/overlays/master-worker-topologyupdater?ref=v0.13.0

patches:
- target:
    group: ''
    version: v1
    kind: ConfigMap
    namespace: node-feature-discovery
    name: nfd-worker-conf
  patch: |
    apiVersion: v1
    kind: ConfigMap
    metadata:
      name: nfd-worker-conf
      namespace: node-feature-discovery
    data:
      nfd-worker.conf: |
        core:
          # I don't plan on running a very large cluster
          # but want more responsiveness to hardware changes
          sleepInterval: 10s
