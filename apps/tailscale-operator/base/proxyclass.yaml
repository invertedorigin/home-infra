apiVersion: tailscale.com/v1alpha1
kind: ProxyClass
metadata:
  name: prod
spec:
  statefulSet:
    pod:
      labels:
        team: eng
        environment: prod
      nodeSelector:
        beta.kubernetes.io/os: "linux"
      tailscaleContainer:
        resources:
          limits:
            squat.ai/tun: "1"
---
apiVersion: tailscale.com/v1alpha1
kind: ProxyGroup
metadata:
  name: ts-proxies
spec:
  proxyClass: prod
  type: egress
  replicas: 3
